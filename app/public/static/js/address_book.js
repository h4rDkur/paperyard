!function(e){e.fn.waitMe=function(t){return this.each(function(){var n,o,a,i,c,r,l=e(this),s="waitMe",m=!1,d="background-color",u="",f="",b={init:function(){switch(c=e.extend({effect:"bounce",text:"",bg:"rgba(255,255,255,0.7)",color:"#000",maxSize:"",source:"",onClose:function(){}},t),r=(new Date).getMilliseconds(),i=e('<div class="'+s+'" data-waitme_id="'+r+'"></div>'),c.effect){case"none":a=0;break;case"bounce":a=3;break;case"rotateplane":a=1;break;case"stretch":a=5;break;case"orbit":a=2;break;case"roundBounce":a=12;break;case"win8":case"win8_linear":a=5,m=!0;break;case"ios":a=12;break;case"facebook":a=3;break;case"rotation":a=1,d="border-color";break;case"timer":if(a=2,e.isArray(c.color))var b=c.color[0];else b=c.color;u="border-color:"+b;break;case"pulse":a=1,d="border-color";break;case"progressBar":a=1;break;case"bouncePulse":a=3;break;case"img":a=1}if(""!==u&&(u+=";"),a>0){if("img"===c.effect)f='<img src="'+c.source+'">';else for(var g=1;g<=a;++g){if(e.isArray(c.color))null==(b=c.color[g])&&(b="#000");else b=c.color;f+=m?'<div class="'+s+"_progress_elem"+g+'"><div style="'+d+":"+b+'"></div></div>':'<div class="'+s+"_progress_elem"+g+'" style="'+d+":"+b+'"></div>'}o=e('<div class="'+s+"_progress "+c.effect+'" style="'+u+'">'+f+"</div>")}if(c.text&&""===c.maxSize){if(e.isArray(c.color))b=c.color[0];else b=c.color;n=e('<div class="'+s+'_text" style="color:'+b+'">'+c.text+"</div>")}var p=l.find("> ."+s);p&&p.remove();var h=e('<div class="'+s+'_content"></div>');h.append(o,n),i.append(h),"HTML"==l[0].tagName&&(l=e("body")),l.addClass(s+"_container").attr("data-waitme_id",r).append(i),p=l.find("> ."+s);var v=l.find("."+s+"_content");if(p.css({background:c.bg}),v.css({marginTop:-v.outerHeight()/2+"px"}),""!==c.maxSize){var _=o.outerHeight(),w=(o.outerWidth(),_);"img"===c.effect?(o.css({height:c.maxSize+"px"}),o.find(">img").css({maxHeight:"100%"}),v.css({marginTop:-v.outerHeight()/2+"px"})):c.maxSize<w&&h.css({transform:"scale("+c.maxSize/w+")"})}function y(e){v.css({top:"auto",transform:"translateY("+e+"px) translateZ(0)"})}if(l.outerHeight()>e(window).height()){var k=e(window).scrollTop(),M=v.outerHeight(),x=l.offset().top,S=l.outerHeight(),A=k-x+e(window).height()/2;A<0&&(A=Math.abs(A)),A-M>=0&&A+M<=S?(x-k>e(window).height()/2&&(A=M),y(A)):y(A=k>x+S-M?k-x-M:k-x+M),e(document).scroll(function(){var t=e(window).scrollTop()-x+e(window).height()/2;t-M>=0&&t+M<=S&&y(t)})}return p.on("destroyed",function(){c.onClose&&e.isFunction(c.onClose)&&c.onClose(),p.trigger("close")}),e.event.special.destroyed={remove:function(e){e.handler&&e.handler()}},p},hide:function(){var e;e=l.attr("data-waitme_id"),l.removeClass(s+"_container").removeAttr("data-waitme_id"),l.find("."+s+'[data-waitme_id="'+e+'"]').remove()}};return b[t]?b[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:b.init.apply(this,arguments)})},e(window).on("load",function(){e("body.waitMe_body").addClass("hideMe"),setTimeout(function(){e("body.waitMe_body").find(".waitMe_container:not([data-waitme_id])").remove(),e("body.waitMe_body").removeClass("waitMe_body hideMe")},200)})}(jQuery),function(e,t,n){"use strict";var o=t.module("ng-mfb",[]);o.run(["$templateCache",function(e){e.put("ng-mfb-menu-default.tpl.html",'<ul class="mfb-component--{{position}} mfb-{{effect}}"    data-mfb-toggle="{{togglingMethod}}" data-mfb-state="{{menuState}}">  <li class="mfb-component__wrap">    <a ng-click="clicked()" ng-mouseenter="hovered()" ng-mouseleave="hovered()"       ng-attr-data-mfb-label="{{label}}" class="mfb-component__button--main">     <i class="mfb-component__main-icon--resting {{resting}}"></i>     <i class="mfb-component__main-icon--active {{active}}"></i>    </a>    <ul class="mfb-component__list" ng-transclude>    </ul></li></ul>'),e.put("ng-mfb-menu-md.tpl.html",'<ul class="mfb-component--{{position}} mfb-{{effect}}"    data-mfb-toggle="{{togglingMethod}}" data-mfb-state="{{menuState}}">  <li class="mfb-component__wrap">    <a ng-click="clicked()" ng-mouseenter="hovered()" ng-mouseleave="hovered()"       style="background: transparent; box-shadow: none;"       ng-attr-data-mfb-label="{{label}}" class="mfb-component__button--main">     <md-button class="md-fab md-accent" aria-label={{label}} style="position:relative; margin: 0; padding:0;">       <md-icon style="left: 0; position: relative;" md-svg-icon="{{resting}}"         class="mfb-component__main-icon--resting"></md-icon>       <md-icon style="position:relative;" md-svg-icon="{{active}}"         class="mfb-component__main-icon--active"></md-icon>     </md-button>    </a>    <ul class="mfb-component__list" ng-transclude>    </ul></li></ul>'),e.put("ng-mfb-button-default.tpl.html",'<li>  <a data-mfb-label="{{label}}" class="mfb-component__button--child">    <i class="mfb-component__child-icon {{icon}}">    </i>  </a></li>'),e.put("ng-mfb-button-md.tpl.html",'<li>  <a href="" data-mfb-label="{{label}}" class="mfb-component__button--child"      style="background: transparent; box-shadow: none;">     <md-button style="margin: 0;" class="md-fab md-accent" aria-label={{label}}>       <md-icon md-svg-icon="{{icon}}"></md-icon>     </md-button>  </a></li>')}]),o.directive("mfbButtonClose",function(){return{restrict:"A",require:"^mfbMenu",link:function(e,t,n,o){t.bind("click",function(){o.close()})}}}),o.directive("mfbMenu",["$timeout",function(t){return{restrict:"EA",transclude:!0,replace:!0,scope:{position:"@",effect:"@",label:"@",resting:"@restingIcon",active:"@activeIcon",mainAction:"&",menuState:"=?",togglingMethod:"@"},templateUrl:function(e,t){return t.templateUrl||"ng-mfb-menu-default.tpl.html"},controller:["$scope","$attrs",function(n,o){var a="open",i="closed";function c(){n.menuState===a?l():r()}function r(){n.menuState=a}function l(){n.menuState=i}function s(){return"hover"===n.togglingMethod}this.toggle=c,this.close=l,this.open=r,n.clicked=function(){n.mainAction&&n.mainAction();s()||c()},n.hovered=function(){s()},n.menuState||(n.menuState=i),e.Modernizr&&Modernizr.touch&&s()&&t(function(){n.$apply(function(){n.togglingMethod="click"})}),o.$observe("menuState",function(){n.currentState=n.menuState})}]}}]),o.directive("mfbButton",[function(){return{require:"^mfbMenu",restrict:"EA",transclude:!0,replace:!0,scope:{icon:"@",label:"@"},templateUrl:function(e,t){return t.templateUrl||"ng-mfb-button-default.tpl.html"}}}])}(window,angular);
